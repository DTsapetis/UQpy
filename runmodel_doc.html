

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RunModel &mdash; UQpy v4.1.7 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=d2d258e8" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=2082cf3c" />
      <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=72eccc5f"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="RunModel Examples" href="auto_examples/RunModel/index.html" />
    <link rel="prev" title="4. SORM - Nonlinear function - Two Random variables" href="auto_examples/reliability/sorm/SORM_nonlinear_function.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F0F0F0" >

          
          
          <a href="index.html">
            
              <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="dimension_reduction/index.html">Dimension Reduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributions/index.html">Distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference/index.html">Inference</a></li>
<li class="toctree-l1"><a class="reference internal" href="reliability/index.html">Reliability</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">RunModel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#architecture-workflow">Architecture &amp; Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#python-model-workflow-serial-execution">Python Model Workflow: Serial Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-model-workflow-parallel-execution">Python Model Workflow: Parallel Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#third-party-model-workflow-serial-execution">Third-Party Model Workflow: Serial Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#third-party-model-workflow-parallel-execution">Third-Party Model Workflow: Parallel Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parallel-cluster-execution">Parallel Cluster Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directory-structure-during-third-party-model-evaluation">Directory Structure During Third-Party Model Evaluation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#files-scripts-used-by-runmodel">Files &amp; Scripts Used by RunModel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples-template-files">Examples &amp; Template Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pythonmodel-class">PythonModel Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#UQpy.run_model.model_execution.PythonModel"><code class="docutils literal notranslate"><span class="pre">PythonModel</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#thirdpartymodel-class">ThirdPartyModel Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#UQpy.run_model.model_execution.ThirdPartyModel"><code class="docutils literal notranslate"><span class="pre">ThirdPartyModel</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#runmodel-class">RunModel Class</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#UQpy.run_model.RunModel"><code class="docutils literal notranslate"><span class="pre">RunModel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#UQpy.run_model.RunModel.samples"><code class="docutils literal notranslate"><span class="pre">RunModel.samples</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#UQpy.run_model.RunModel.qoi_list"><code class="docutils literal notranslate"><span class="pre">RunModel.qoi_list</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#UQpy.run_model.RunModel.n_existing_simulations"><code class="docutils literal notranslate"><span class="pre">RunModel.n_existing_simulations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#UQpy.run_model.RunModel.n_new_simulations"><code class="docutils literal notranslate"><span class="pre">RunModel.n_new_simulations</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#UQpy.run_model.RunModel.run"><code class="docutils literal notranslate"><span class="pre">RunModel.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="auto_examples/RunModel/index.html">RunModel Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sampling/index.html">Sampling</a></li>
<li class="toctree-l1"><a class="reference internal" href="scientific_machine_learning/index.html">Scientific Machine Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="sensitivity/index.html">Sensitivity</a></li>
<li class="toctree-l1"><a class="reference internal" href="stochastic_process/index.html">Stochastic Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="surrogates/index.html">Surrogates</a></li>
<li class="toctree-l1"><a class="reference internal" href="transformations/index.html">Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities/index.html">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">UQpy architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="paper.html">UQpy paper</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="news_doc.html">News</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #F0F0F0" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UQpy</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">RunModel</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/runmodel_doc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="runmodel">
<span id="runmodel-doc"></span><h1>RunModel<a class="headerlink" href="#runmodel" title="Link to this heading">ÔÉÅ</a></h1>
<p><a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> is the core module for <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> to execute computational models</p>
<p><a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> contains a single class, also called <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> that is used to execute computational models at specified
sample points. <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> may be used to execute Python models or third-party software models and is capable of
running models serially or in parallel on both local machines or HPC clusters.</p>
<p>The module currently contains the following classes:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>: Class for execution of a computational model</p></li>
</ul>
<section id="architecture-workflow">
<h2>Architecture &amp; Workflow<a class="headerlink" href="#architecture-workflow" title="Link to this heading">ÔÉÅ</a></h2>
<p>The <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> class has four basic workflows delineated in two levels. At the first level, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> can be used
for execution of either a Python computational model, in which case the model is imported and run directly, or for
execution of a third-party software model. When running with a third-party software model, <code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code> interfaces with
the model through text-based input files and serves as the ‚Äúdriver‚Äù to initiate the necessary calculations. At the
second level, the jobs that are run by <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> can either be executed
in series or in parallel. In the following sections the workflow is discussed in detail.</p>
<a class="reference internal image-reference" href="_images/Runmodel_workflow.png"><img alt="_images/Runmodel_workflow.png" src="_images/Runmodel_workflow.png" style="width: 600px;" />
</a>
<section id="python-model-workflow-serial-execution">
<h3>Python Model Workflow: Serial Execution<a class="headerlink" href="#python-model-workflow-serial-execution" title="Link to this heading">ÔÉÅ</a></h3>
<p>A common workflow in <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> is when the computational model being evaluated is written in Python. This workflow is
invoked by calling <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> using a <a class="reference internal" href="#UQpy.run_model.model_execution.PythonModel" title="UQpy.run_model.model_execution.PythonModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">PythonModel</span></code></a> without specifying an <code class="docutils literal notranslate"><span class="pre">input_template</span></code> (i.e. <code class="docutils literal notranslate"><span class="pre">input_template</span> <span class="pre">=</span> <span class="pre">None</span></code>) and setting
<code class="docutils literal notranslate"><span class="pre">model_script</span></code> to the user-defined Python script containing the model. This python model is run serially by setting
<code class="docutils literal notranslate"><span class="pre">ntasks</span> <span class="pre">=</span> <span class="pre">1</span></code>.</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> imports the <code class="docutils literal notranslate"><span class="pre">model_script</span></code> and executes the object defined by <code class="docutils literal notranslate"><span class="pre">model_object_name</span></code>. The
<code class="docutils literal notranslate"><span class="pre">model_object</span></code> can be structured such that it accepts one sample at a time or accepts an array/list of samples all at
once. The <code class="docutils literal notranslate"><span class="pre">model_object</span></code> may be a class or a function. If the <code class="docutils literal notranslate"><span class="pre">model_object</span></code> is a class, the quantity of interest
must be stored as an attribute of the class called <code class="xref py py-attr docutils literal notranslate"><span class="pre">qoi</span></code>. If the model object is a function, it must return the
quantity of interest after execution.</p>
<p>Details for <code class="docutils literal notranslate"><span class="pre">model_script</span></code> can be found in the Section entitled <a class="reference internal" href="#files-scripts-used-by-runmodel">Files &amp; Scripts Used by RunModel</a>.</p>
</section>
<section id="python-model-workflow-parallel-execution">
<h3>Python Model Workflow: Parallel Execution<a class="headerlink" href="#python-model-workflow-parallel-execution" title="Link to this heading">ÔÉÅ</a></h3>
<p>The python model is executed in parallel by setting <code class="docutils literal notranslate"><span class="pre">ntasks</span></code> equal to the desired number of tasks (greater than 1) to be executed concurrently. In this
case, the <code class="docutils literal notranslate"><span class="pre">model_script</span></code> and corresponding <code class="docutils literal notranslate"><span class="pre">model_object</span></code> should be defined to accept a single sample. <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> uses the <code class="docutils literal notranslate"><span class="pre">mpi4py</span></code> library for
parallel execution of python models. OpenMPI library is essential for <code class="docutils literal notranslate"><span class="pre">mpi4py</span></code>
and must be installed on the computer running the model. Information regarding how to install <code class="docutils literal notranslate"><span class="pre">OpenMPI</span></code> is provided
at <a class="reference external" href="https://www.open-mpi.org/faq/?category=building">https://www.open-mpi.org/faq/?category=building</a>.</p>
<p>Details for <code class="docutils literal notranslate"><span class="pre">model_script</span></code> can be found in the Section entitled <a class="reference internal" href="#files-scripts-used-by-runmodel">Files &amp; Scripts Used by RunModel</a>.</p>
</section>
<section id="third-party-model-workflow-serial-execution">
<h3>Third-Party Model Workflow: Serial Execution<a class="headerlink" href="#third-party-model-workflow-serial-execution" title="Link to this heading">ÔÉÅ</a></h3>
<p>The <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> class also supports running models using third-party software. This worrkflow uses a text-based template input file, <code class="docutils literal notranslate"><span class="pre">input_template</span></code>, to pass
information from <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> to the third-party model, and a Python script <code class="docutils literal notranslate"><span class="pre">output_script</span></code> to process the outputs and collect the results for post-processing.</p>
<p>This workflow operates in three steps as explained in the following:</p>
<ol class="arabic simple">
<li><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> takes the file <code class="docutils literal notranslate"><span class="pre">input_template</span></code> and generates an indexed set of input files, one for each set of sample values passed through the <code class="docutils literal notranslate"><span class="pre">samples</span></code> input. For
example, if the name of the template input file is <code class="docutils literal notranslate"><span class="pre">input.inp</span></code>, then <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> generates indexed input files by appending the sample number between the filename       and extension, as <code class="docutils literal notranslate"><span class="pre">input_1.inp</span></code>, <code class="docutils literal notranslate"><span class="pre">input_2.inp</span></code>, ‚Ä¶ , <code class="docutils literal notranslate"><span class="pre">input_n.inp</span></code>, where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the number of sample sets in <code class="docutils literal notranslate"><span class="pre">samples</span></code>. The details of how the
<code class="docutils literal notranslate"><span class="pre">input_template</span></code> should be structured are discussed in the Section entitled <a class="reference internal" href="#files-scripts-used-by-runmodel">Files &amp; Scripts Used by RunModel</a>. During serial execution, one input file is
generated, the model is executed, another input file is generated, the model is executed, and so on.</p></li>
<li><p>The third-party software model is executed for each set of sample values using the indexed model input file generated in Step 1 by calling the Python
script specified in <code class="docutils literal notranslate"><span class="pre">model_script</span></code> and passing the sample index.  This can be done either serially (which may be performed by setting <code class="docutils literal notranslate"><span class="pre">ntasks</span> <span class="pre">=</span> <span class="pre">1</span></code>) or in
parallel over multiple processors (by setting <code class="docutils literal notranslate"><span class="pre">ntask</span> <span class="pre">&gt;</span> <span class="pre">1</span></code>).</p></li>
<li><p>For each simulation, the third-party model generates some set of outputs in Step 2. The user-defined <code class="docutils literal notranslate"><span class="pre">output_script</span></code> is used to post-process these outputs
and return them to <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> in a list form, defined as an attribute of <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> called <code class="xref py py-attr docutils literal notranslate"><span class="pre">qoi_list</span></code>. This script should extract any desired quantity of
interest from the generated output files, again using the sample index to link model outputs to their respective sample sets. <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> imports the <code class="docutils literal notranslate"><span class="pre">output_script</span></code>
and executes the object defined by <code class="docutils literal notranslate"><span class="pre">output_object_name</span></code>. The structure of the <code class="docutils literal notranslate"><span class="pre">output_object</span></code> must be such that it accepts, as input, the sample index. If the
<code class="docutils literal notranslate"><span class="pre">output_object</span></code> is a Class, the quantity of interest must be stored as an attribute of the class called <code class="xref py py-attr docutils literal notranslate"><span class="pre">qoi</span></code>. If the <code class="docutils literal notranslate"><span class="pre">output_object</span></code> it is a function, it
must return the quantity of interest after execution. More details specifying the structure of <code class="docutils literal notranslate"><span class="pre">output_script</span></code> and the associated <code class="docutils literal notranslate"><span class="pre">output_object</span></code> can be found
in the Section entitled <a class="reference internal" href="#files-scripts-used-by-runmodel">Files &amp; Scripts Used by RunModel</a>. Finally, because <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> imports the <code class="docutils literal notranslate"><span class="pre">output_script</span></code> and executes it within <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>, the
values returned by the output object are directly stored according to their sample index in the <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> attribute <code class="xref py py-attr docutils literal notranslate"><span class="pre">qoi_list</span></code>.</p></li>
</ol>
</section>
<section id="third-party-model-workflow-parallel-execution">
<h3>Third-Party Model Workflow: Parallel Execution<a class="headerlink" href="#third-party-model-workflow-parallel-execution" title="Link to this heading">ÔÉÅ</a></h3>
<p>Parallel execution in <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> is carried out by the <code class="docutils literal notranslate"><span class="pre">mpi4py</span></code> library. OpenMPI library is essential for <code class="docutils literal notranslate"><span class="pre">mpi4py</span></code>
and must be installed on the computer running the model. Information regarding how to install <code class="docutils literal notranslate"><span class="pre">OpenMPI</span></code> is provided
at <a class="reference external" href="https://www.open-mpi.org/faq/?category=building">https://www.open-mpi.org/faq/?category=building</a>. Parallel execution is activated in
<a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> by setting the parameter <code class="docutils literal notranslate"><span class="pre">ntasks&gt;1</span></code>. The key differences in terms of the workflow are listed below.</p>
<ol class="arabic simple">
<li><p>During parallel execution, the execution of different samples is distributed among the different tasks and required input files are generated individually prior to each run.
individually prior to each run.</p></li>
<li><p><cite>OpenMPI</cite> divides the total number of jobs into a number of chunks specified by the variable <code class="docutils literal notranslate"><span class="pre">ntasks</span></code>.
<code class="docutils literal notranslate"><span class="pre">ntasks</span></code> number of jobs are executed in parallel and
this continues until all the jobs finish executing. This is specified by setting <code class="docutils literal notranslate"><span class="pre">cores_per_task</span></code> and <code class="docutils literal notranslate"><span class="pre">nodes</span></code> appropriately. Details can be found in the description of the <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>.
Whether in serial or parallel, the sample index is used by <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> to keep track of model execution and to link the samples to their corresponding outputs.
<a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> achieves this by consistently naming all the input files using the sample index (see Step 1) and passing the sample index into <code class="docutils literal notranslate"><span class="pre">model_script</span></code>. More
details on the precise structure of <code class="docutils literal notranslate"><span class="pre">model_script</span></code> are discussed in the Section entitled <a class="reference internal" href="#files-scripts-used-by-runmodel">Files &amp; Scripts Used by RunModel</a>.</p></li>
<li><p>Output processing in the parallel case is performed after every individual run.</p></li>
</ol>
</section>
<section id="parallel-cluster-execution">
<h3>Parallel Cluster Execution<a class="headerlink" href="#parallel-cluster-execution" title="Link to this heading">ÔÉÅ</a></h3>
<p>The <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> class also supports launching jobs in parallel on HPC clusters. The setup for this execution model is the same for both the Python and
third-party model workflows; however, the user is also able to provide a cluster-specific script that launches the most computationally intensive portions
of the simulation using cluster and scheduler specific commands. The pre- and post-processing can be done outside of this cluster-specific portion of the workflow. In order to enable cluster execution, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> must be configured as follows:</p>
<ol class="arabic simple">
<li><p>The execution mode most be configured to parallel by setting any or all of <code class="docutils literal notranslate"><span class="pre">ntasks</span></code>, <code class="docutils literal notranslate"><span class="pre">cores_per_task</span></code>, or <code class="docutils literal notranslate"><span class="pre">nodes</span></code> to a value greater than 1.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">RunType</span></code> must be input as <code class="docutils literal notranslate"><span class="pre">CLUSTER</span></code></p></li>
<li><p>The user must provide the <code class="docutils literal notranslate"><span class="pre">cluster_script</span></code> input</p></li>
</ol>
<p>With this configuration, <code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code> will launch the computationally intensive portion of the workflow as specified in the <code class="docutils literal notranslate"><span class="pre">cluster_script</span></code>. The <code class="docutils literal notranslate"><span class="pre">cores_per_task</span></code>, <code class="docutils literal notranslate"><span class="pre">n_new_simulations</span></code>, and <code class="docutils literal notranslate"><span class="pre">n_existing_simulations</span></code> are passed as command line arguments to
the <code class="docutils literal notranslate"><span class="pre">cluster_script</span></code> when it is launched, so it is the user‚Äôs responsibility to use these inputs in the provided cluster script to configure the simulations for the specific HPC cluster and scheduler setup.</p>
</section>
<section id="directory-structure-during-third-party-model-evaluation">
<h3>Directory Structure During Third-Party Model Evaluation<a class="headerlink" href="#directory-structure-during-third-party-model-evaluation" title="Link to this heading">ÔÉÅ</a></h3>
<p>To execute <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>, the working directory must contain the necessary files (i.e. <code class="docutils literal notranslate"><span class="pre">model_script</span></code>,
<code class="docutils literal notranslate"><span class="pre">input_template</span></code>, and <code class="docutils literal notranslate"><span class="pre">output_script</span></code>) along with any other files required for model evaluation. These may include,
among other things, compiled executable files for third-party software that runs locally.  There is an option to specify
a model directory (<code class="docutils literal notranslate"><span class="pre">model_dir</span></code>) as an input to <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>, which creates a new directory whose name is given by
appending a timestamp corresponding to the time of executing the model to <code class="docutils literal notranslate"><span class="pre">model_dir</span></code>. All files in the working
directory are copied to the newly created model directory as illustrated below, and this directory becomes the working
directory for executing the model. The default model directory is <code class="docutils literal notranslate"><span class="pre">model_dir='Model_Runs'</span></code>.</p>
<a class="reference internal image-reference" href="_images/Runmodel_directory_1.png"><img alt="_images/Runmodel_directory_1.png" src="_images/Runmodel_directory_1.png" style="width: 300px;" />
</a>
<p>To avoid cluttering the working directory with outputs, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> creates a directory for each execution of the
model and saves the output generated during the  model execution within the corresponding directory. <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>
generates the directory name for the sample as <cite>run_n</cite>, where <cite>n</cite> is the python index of the run and <cite>timestamp</cite>
corresponds to the time at the beginning of the first simulation of the parallel job. This is illustrated in the figure below.</p>
<a class="reference internal image-reference" href="_images/Runmodel_directory_2.png"><img alt="_images/Runmodel_directory_2.png" src="_images/Runmodel_directory_2.png" style="width: 300px;" />
</a>
<p>Within the working directory for each run, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> creates a new directory <cite>InputFiles</cite> and deposits the input
files generated in Step 1 above into this directory. The user‚Äôs <code class="docutils literal notranslate"><span class="pre">model_script</span></code> must retrieve the relevant input file
during the model execution. During model execution, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> first copies all the files in the working
directory to the directory for each sample, executes the model, and then deletes all the files copied into this
directory from the working directory. Any output generated either during model execution or during output processing
remains in this directory, as does the <cite>InputFiles</cite> directory. This is illustrated in the figure below.</p>
<a class="reference internal image-reference" href="_images/Runmodel_directory_3.png"><img alt="_images/Runmodel_directory_3.png" src="_images/Runmodel_directory_3.png" style="width: 300px;" />
</a>
</section>
<section id="files-scripts-used-by-runmodel">
<span id="id2"></span><h3>Files &amp; Scripts Used by RunModel<a class="headerlink" href="#files-scripts-used-by-runmodel" title="Link to this heading">ÔÉÅ</a></h3>
<p>As discussed in the sections above and illustrated in the examples, the <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> class utilizes a python
script to execute the computational model (<code class="docutils literal notranslate"><span class="pre">model_script</span></code>), a python script to extract the output (<code class="docutils literal notranslate"><span class="pre">output_script</span></code>)
and a template input file (<code class="docutils literal notranslate"><span class="pre">input_template</span></code>). This section is intended to provide a closer look at each of these
files, their structure, and when/if they are required.</p>
<p><strong>model_script</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">model_script</span></code> is the user-defined Python script that runs the computational model. It can be employed in two
different ways depending on the type of model being executed.</p>
<ul class="simple">
<li><p><em>Python Model:</em> For a python model, the <code class="docutils literal notranslate"><span class="pre">model_script</span></code> is directly imported into the working python environment.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">model_script</span></code> must have an object (either a class object or a function object) defined within it, and specified
in <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> by <code class="docutils literal notranslate"><span class="pre">model_object_name</span></code>, that contains the computational model itself. The <code class="docutils literal notranslate"><span class="pre">samples</span></code> passed to
<a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> and any additional keyword arguments are passed as inputs to the model object. Examples for how the
Python model may be structured are provided below.</p>
<p><strong>Example:</strong> Model object as a class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">ModelClass</span><span class="p">:</span>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="nb">input</span><span class="o">=</span><span class="n">one_sample</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
     <span class="c1"># Execute the model using the input and get the output</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">qoi</span> <span class="o">=</span> <span class="n">output</span>
</pre></div>
</div>
<p><strong>Example:</strong> Model object as a function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">model_function</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">one_sample</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
  <span class="c1"># Execute the model using the input and get the output</span>
  <span class="k">return</span> <span class="n">output</span>
</pre></div>
</div>
<ul class="simple">
<li><p><em>Third-Party Software Model:</em> When running a third-party model, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> does not import <code class="docutils literal notranslate"><span class="pre">model_script</span></code>.</p></li>
</ul>
<dl>
<dt>Instead, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> calls the model script through</dt><dd><p>the command line as</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">python3</span> <span class="pre">model_script(sample_index)</span></code></p>
</div></blockquote>
<p>using the Python <code class="docutils literal notranslate"><span class="pre">fire</span></code> module. Notice the only variable passed into <code class="docutils literal notranslate"><span class="pre">model_script</span></code> is the <code class="docutils literal notranslate"><span class="pre">sample_index</span></code>. This
is because the samples are being passed through the input files (via <code class="docutils literal notranslate"><span class="pre">input_template</span></code>, see below). For example, if
the model object is passed the sample index <cite>n</cite>, it should then execute the model using the input file whose name is
<cite>input_n.inp</cite>, where <code class="docutils literal notranslate"><span class="pre">input_template</span> <span class="pre">=</span> <span class="pre">'input.inp'</span></code>.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">model_script</span></code> file, it is necessary to build the executable commands into a function so that the sample
index can be passed into the script ‚Äì allowing the script to recognize which input file to use. Because the
executable commands must be built into a function, it is necessary to call this function using the Python <code class="docutils literal notranslate"><span class="pre">fire</span></code>
module as illustrated in the first two lines of <code class="docutils literal notranslate"><span class="pre">matlab_model_script.py</span></code> below.</p>
<p>Also note that the <code class="docutils literal notranslate"><span class="pre">model_script</span></code> must index the name of the output file for subsequent postprocessing through the <code class="docutils literal notranslate"><span class="pre">output_script</span></code> discussed below.</p>
<p>An example of the the <code class="docutils literal notranslate"><span class="pre">model_script</span></code> corresponding to execution of a Matlab model with
<code class="docutils literal notranslate"><span class="pre">input_template</span> <span class="pre">=</span> <span class="pre">'matlab_model.m'</span></code>, as illustrated in the <code class="docutils literal notranslate"><span class="pre">input_template</span></code> example, is given below.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">matlab_model_script.py</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">fire</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
   <span class="n">fire</span><span class="o">.</span><span class="n">Fire</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">model</span><span class="p">(</span><span class="n">sample_index</span><span class="p">):</span>
   <span class="c1"># Copy the input file into the cwd</span>
   <span class="n">command1</span> <span class="o">=</span> <span class="s2">&quot;cp ./InputFiles/matlab_model_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span>
              <span class="s2">&quot;.m .&quot;</span>
   <span class="n">command2</span> <span class="o">=</span> <span class="s2">&quot;matlab -nosplash -nojvm -nodisplay -nodesktop -r</span>
              <span class="s1">&#39;run matlab_model_&quot; + str(sample_index + 1) + &quot;.m;</span>
              <span class="n">exit</span><span class="s1">&#39;&quot;</span>
   <span class="c1"># Rename the output file</span>
   <span class="n">command3</span> <span class="o">=</span> <span class="s2">&quot;mv y.txt y_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">sample_index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;.txt&quot;</span>

   <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">command1</span><span class="p">)</span>
   <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">command2</span><span class="p">)</span>
   <span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">command3</span><span class="p">)</span>
</pre></div>
</div>
<p>Examples of the <code class="docutils literal notranslate"><span class="pre">model_script</span></code> are given in the <cite>example</cite> folder on the <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> repository as described in the
Section entitled <a class="reference internal" href="#examples-template-files">Examples &amp; Template Files</a>.</p>
<p><strong>input_template</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">input_template</span></code> is a user-defined file that is is used only when executing a third-party software model with
<a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>. As the name implies, <code class="docutils literal notranslate"><span class="pre">input_template</span></code> serves as a template of the model input file from which
individual, run-specific model input files will be generated for each model evaluation. The model input file is
typically an ASCII text-based file that defines all parameters (e.g. geometry, material properties, boundary conditions,
loading, etc.) of the computational model. For each individual model evaluation, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> will modify this template
through place-holder variables following a <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> specific convention. This convention is described herein. The
place-holder variables are replaced with numerical values from the <code class="docutils literal notranslate"><span class="pre">samples</span></code> passed as input to <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>.</p>
<p><code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> place-holder variable convention:</p>
<ul>
<li><p>Place-holders are defined by using <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">&gt;</span></code> around the variable name within the template input file.</p>
<p>Variable names are specified within <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> using the <code class="docutils literal notranslate"><span class="pre">var_names</span></code> input. <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> scans the text
within the input template looking for place-holders with each variable name and places the corresponding sample
values in that location in the model input file.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">var_names</span> <span class="pre">=</span> <span class="pre">None</span></code>, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> assigns default variable names as <cite>x0</cite>, <cite>x1</cite>, <cite>x2</cite>, ‚Ä¶, <cite>xn</cite>.</p>
</li>
<li><p>Standard python indexing is supported when using place-holders.</p>
<p>For example, if <cite>var1</cite> is a numpy array, then it is possible to specify <code class="docutils literal notranslate"><span class="pre">&lt;var1[i][j]&gt;</span></code>, which will then place the
corresponding <cite>i,j</cite> component of <cite>var1</cite> at that location. If <cite>var1</cite> is an array and no index is specified within the
place-holder then the entire contents of <cite>var1</cite> are written in a delimited format at that location in the input file,
where the user can prescribe the delimiter using the <code class="docutils literal notranslate"><span class="pre">separator</span></code> input.</p>
</li>
<li><p>In order to properly build the input files for each model evaluation, it is critical that the <code class="docutils literal notranslate"><span class="pre">samples</span></code> passed into
<a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> adhere to the following simple rules:</p>
<ol class="arabic simple">
<li><p>The first dimension of <code class="docutils literal notranslate"><span class="pre">samples</span></code> must correspond to the number of samples at which the model will be evaluated.</p></li>
<li><p>The second dimension of <code class="docutils literal notranslate"><span class="pre">samples</span></code> must correspond to the number of variables being passed into each model evaluation. Note that variables do not need to be scalars. Variables can be scalars, vectors, matrices, or tensors. When writing vectors, matrices, and tensors, they are first flattened and written in delimited form.</p></li>
</ol>
</li>
</ul>
<p>Examples of the <code class="docutils literal notranslate"><span class="pre">template_input</span></code> are given in the <cite>example</cite> folder on the <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> repository as described in the Section entitled <a class="reference internal" href="#examples-template-files">Examples &amp; Template Files</a>.</p>
<p><strong>output_script</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">output_script</span></code> is an optional user-defined Python script for post-processing model output. Specifically, it is
used to extract user-specified quantities of interest from third-party model output files and return them to
<a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>. <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> imports the <code class="docutils literal notranslate"><span class="pre">output_script</span></code> and executes the object defined by
<code class="docutils literal notranslate"><span class="pre">output_object_name</span></code>. The output object should accept only the sample index as input. If the model object is a Class,
the quantity of interest must be stored as an attribute of the class called <code class="xref py py-attr docutils literal notranslate"><span class="pre">qoi</span></code>. If it is a function, it must return
the quantity of interest after execution. Examples for how the output object may be structured are provided below.</p>
<p><strong>Example:</strong> Output object as a class:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">OutputClass</span><span class="p">:</span>
  <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>  <span class="nb">input</span><span class="o">=</span><span class="n">sample_index</span><span class="p">):</span>
     <span class="c1"># Postprocess the output files corresponding to the</span>
     <span class="c1"># sample number and extract the quantity of interest</span>
     <span class="bp">self</span><span class="o">.</span><span class="n">qoi</span> <span class="o">=</span> <span class="n">output</span>
</pre></div>
</div>
<p><strong>Example:</strong> Output object as a function:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">output_function</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">sample_index</span><span class="p">):</span>
  <span class="c1"># Postprocess the output files corresponding to the sample</span>
  <span class="c1"># number and extract the quantity of interest</span>
  <span class="k">return</span> <span class="n">output</span>
</pre></div>
</div>
<p><strong>Executable Software</strong></p>
<p>Often, the working directory will contain an executable software program. This is often the case for custom software and
for software that does not lie in the user‚Äôs path.</p>
</section>
</section>
<section id="examples-template-files">
<span id="id3"></span><h2>Examples &amp; Template Files<a class="headerlink" href="#examples-template-files" title="Link to this heading">ÔÉÅ</a></h2>
<p>In the <cite>example</cite> folder, several examples are provided to run both python models and third-party software models in
serial and in parallel. These examples are briefly summarized below. Note that the problems presented are for
demonstration purposes and are not necessarily intended to be used for accurate modeling of the problems described.
Instead, the primary intention is to show the files that are used in running models with each software package - in
particular the <code class="docutils literal notranslate"><span class="pre">model_script</span></code> and <code class="docutils literal notranslate"><span class="pre">input_template</span></code>.</p>
<p><strong>Python Models</strong></p>
<p>Several simple mathematical python models are provided in a Jupyter script entitled
<cite>Python_Model_with_Heterogeneous_Data.ipynb</cite>. These examples illustrate how to write functions and classes that execute
models in python using <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>.  The notebook executes models in serial and in parallel. The models themselves are
provided in the python file <cite>python_model.py</cite>.</p>
</section>
<section id="pythonmodel-class">
<h2>PythonModel Class<a class="headerlink" href="#pythonmodel-class" title="Link to this heading">ÔÉÅ</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="UQpy.run_model.model_execution.PythonModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PythonModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_script</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_object_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">model_object_name_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/UQpy/run_model/model_execution/PythonModel.html#PythonModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#UQpy.run_model.model_execution.PythonModel" title="Link to this definition">ÔÉÅ</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_script</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì <p>The filename (with .py extension) of the Python script which contains commands to
execute the model.</p>
<p>The named file must be present in the current working directory from which <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> is called.</p>
</p></li>
<li><p><strong>model_object_name</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì <p>In the Python workflow, <cite>model_object_name</cite> specifies the name of the function or
class within <cite>model_script‚Äô that executes the model. If there is only one function or class in the
`model_script</cite>, then it is not necessary to specify the model_object_name. If there are multiple objects within
the <cite>model_script</cite>, then <cite>model_object_name</cite> must be specified.</p>
<p><cite>model_object_name</cite> is not used in the third-party software model workflow.</p>
</p></li>
<li><p><strong>var_names</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>) ‚Äì <p>A list containing the names of the variables present in <cite>input_template</cite>.</p>
<p>If <cite>input template</cite> is provided and  <cite>var_names</cite> is not passed, i.e. if <code class="docutils literal notranslate"><span class="pre">var_names=None</span></code>, then the default
variable names <cite>x0</cite>, <cite>x1</cite>, <cite>x2</cite>,‚Ä¶, <cite>xn</cite> are created and used by <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>, where <cite>n</cite> is the number of
variables (<cite>n_vars</cite>).</p>
<p>The number of variables is equal to the second dimension of <cite>samples</cite> (i.e. <code class="docutils literal notranslate"><span class="pre">n_vars=len(samples[0])</span></code>).</p>
<p><cite>var_names</cite> is not used in the Python model workflow.</p>
</p></li>
<li><p><strong>delete_files</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) ‚Äì <p>Specifies whether or not to delete individual run output files after model execution
and output processing.</p>
<p>If <cite>delete_files = True</cite>, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> will remove all <cite>run_i‚Ä¶</cite> directories in the <cite>model_dir</cite>.</p>
</p></li>
<li><p><strong>model_object_name_kwargs</strong> ‚Äì Additional inputs to the Python object specified by <cite>model_object_name</cite> in the
Python model workflow.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Third-Party Models</strong></p>
<p><a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> can be used to execute nearly any third-party model. In the <cite>example</cite> folder, we provide files for
the execution of several commonly-used engineering software packages.</p>
</section>
<section id="thirdpartymodel-class">
<h2>ThirdPartyModel Class<a class="headerlink" href="#thirdpartymodel-class" title="Link to this heading">ÔÉÅ</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="UQpy.run_model.model_execution.ThirdPartyModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ThirdPartyModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_template</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_script</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_script</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_object_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_object_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">',</span> <span class="pre">'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delete_files</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Model_Runs'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/UQpy/run_model/model_execution/ThirdPartyModel.html#ThirdPartyModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#UQpy.run_model.model_execution.ThirdPartyModel" title="Link to this definition">ÔÉÅ</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_names</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>]</span>) ‚Äì <p>A list containing the names of the variables present in <cite>input_template</cite>.</p>
<p>If <cite>input template</cite> is provided and  <cite>var_names</cite> is not passed, i.e. if <code class="docutils literal notranslate"><span class="pre">var_names=None</span></code>, then the default
variable names <cite>x0</cite>, <cite>x1</cite>, <cite>x2</cite>,‚Ä¶, <cite>xn</cite> are created and used by <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>, where <cite>n</cite> is the number of
variables (<cite>n_vars</cite>).</p>
<p>The number of variables is equal to the second dimension of <cite>samples</cite> (i.e. <code class="docutils literal notranslate"><span class="pre">n_vars=len(samples[0])</span></code>).</p>
<p><cite>var_names</cite> is not used in the Python model workflow.</p>
</p></li>
<li><p><strong>input_template</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì <p>The name of the template input file that will be used to generate input files for
each run of the model. When operating <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> with a third-party software model, <code class="docutils literal notranslate"><span class="pre">input_template</span></code> must
be specified.</p>
<p>The named file must be present in the current working directory from which <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> is called.</p>
</p></li>
<li><p><strong>model_script</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì <p>The filename (with .py extension) of the Python script which contains commands to
execute the model.</p>
<p>The named file must be present in the current working directory from which <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> is called.</p>
</p></li>
<li><p><strong>model_object_name</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì In the Python workflow, <cite>model_object_name</cite> specifies the name of the function or
class within <cite>model_script‚Äô that executes the model. If there is only one function or class in the
`model_script</cite>, then it is not necessary to specify the model_object_name. If there are multiple objects within
the <cite>model_script</cite>, then <cite>model_object_name</cite> must be specified.</p></li>
<li><p><strong>output_script</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì <p>The filename of the Python script that contains the commands to process the output from
third-party software model evaluation. <cite>output_script</cite> is used to extract quantities of interest from model
output files and return the quantities of interest to <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> for subsequent <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> processing (e.g. for
adaptive methods that utilize the results of previous simulations to initialize new simulations).</p>
<p>If, in the third-party software model workflow, <code class="docutils literal notranslate"><span class="pre">output_script</span> <span class="pre">=</span> <span class="pre">None</span></code> (the default), then the
<code class="xref py py-attr docutils literal notranslate"><span class="pre">qoi_list</span></code> attribute is empty and postprocessing must be handled outside of <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code>.</p>
<p>If used, the named file must be present in the current working directory from which <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> is called.</p>
<p><cite>output_script</cite> is not used in the Python model workflow. In the Python model workflow, all model postprocessing
is handled directly within <cite>model_script</cite>.</p>
</p></li>
<li><p><strong>output_object_name</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì <p>The name of the function or class within <cite>output_script</cite> that is used to collect
and process the output values from third-party software model output files. If the object is a class, the
output must be saved as an attribute called <code class="xref py py-attr docutils literal notranslate"><span class="pre">qoi</span></code>. If it is a function, it should return the output
quantity of interest.</p>
<p>If there is only one function or only one class in <cite>output_script</cite>, then it is not necessary to specify
<cite>output_object_name</cite>. If there are multiple objects in <cite>output_script</cite>, then output_object_name must be
specified.</p>
</p></li>
<li><p><strong>fmt</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì <p>If the <cite>template_input</cite> requires variables to be written in specific format, this format can be
specified here.</p>
<p>Format specification follows standard Python conventions for the str.format() command described at:
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format">https://docs.python.org/3/library/stdtypes.html#str.format</a>. For additional details, see the Format String Syntax
description at: <a class="reference external" href="https://docs.python.org/3/library/string.html#formatstrings">https://docs.python.org/3/library/string.html#formatstrings</a>.</p>
<p>For example, ls-dyna .k files require each card is to be exactly 10 characters. The following format string
syntax can be used, ‚Äú{:&gt;10.4f}‚Äù.</p>
</p></li>
<li><p><strong>separator</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì A string used to delimit values when printing arrays to the <cite>template_input</cite>.</p></li>
<li><p><strong>delete_files</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></span>) ‚Äì <p>Specifies whether or not to delete individual run output files after model execution
and output processing.</p>
<p>If <cite>delete_files = True</cite>, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> will remove all <cite>run_i‚Ä¶</cite> directories in the <cite>model_dir</cite>.</p>
</p></li>
<li><p><strong>model_dir</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></span>) ‚Äì Specifies the name of the sub-directory from which the model will be executed and to which
output files will be saved.  A new directory is created by <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> within the current directory whose name
is <cite>model_dir</cite> appended with a timestamp.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><em>Abaqus Model</em></p>
<p>Code is provided for execution of 100 Monte Carlo samples of two random variables for the analysis of a beam subject to
thermo-mechanical loading under fire conditions. The example is described in <span id="id4">[<a class="reference internal" href="bibliography.html#id16" title="Audrey Olivier, Dimitris G. Giovanis, B.S. Aakash, Mohit Chauhan, Lohit Vandanapu, and Michael D. Shields. Uqpy: a general purpose python package and development environment for uncertainty quantification. Journal of Computational Science, 47:101204, 2020. URL: https://www.sciencedirect.com/science/article/pii/S1877750320305056, doi:https://doi.org/10.1016/j.jocs.2020.101204.">17</a>]</span>. The analysis is set up to run on a
HPC cluster (specifically the Maryland Advanced Research Computing Center, MARCC) using the SLURM scheduler from the
shell script <cite>run_sfe_example.sh</cite>. The model executes 100 finite element calculations using the Abacus software over a
total of 25 cores on a single compute node with each calculation using 1 core. The requisite <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> files
are the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model_script</span> <span class="pre">=</span> <span class="pre">'abaqus_fire_analysis.py'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input_template</span> <span class="pre">=</span> <span class="pre">'abaqus_input.py'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_script</span> <span class="pre">=</span> <span class="pre">'extract_abaqus_output.py'</span></code></p></li>
</ul>
<p>Also necessary is the Abaqus postprocessing script <cite>abaqus_output_script.py</cite>.</p>
<p>Of particular note is the <code class="docutils literal notranslate"><span class="pre">input_template</span></code>. For Abaqus, the <code class="docutils literal notranslate"><span class="pre">input_template</span></code> may be an Abaqus input (<cite>.inp</cite>) file or
an Abaqus python model file (<cite>.py</cite>). In this case, we directly input the variables in the Python model generation file.</p>
<p><em>LS-DYNA Model</em></p>
<p>Code is provided for execution of arbitrary Lagrangian-Eulerian finite element calculations of a small material element
with random spherical voids. Two examples are provided, entitled <cite>single_job</cite> and <cite>multi-job</cite>.</p>
<p>The <cite>single_job</cite> calculation executes a single finite element calculation on an HPC cluster (specifically MARCC) using
the SLURM scheduler over 2 nodes and using a total of 48 cores. The requisite <code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code> files are the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model_script</span> <span class="pre">=</span> <span class="pre">'dyna_script'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input_template</span> <span class="pre">=</span> <span class="pre">'dyna_input.k'</span></code></p></li>
</ul>
<p>No <code class="docutils literal notranslate"><span class="pre">output_script</span></code> is used for postprocessing.</p>
<p>The <cite>multi_job</cite> calculation executes 12 finite element calculations on an HPC cluster (specifically MARCC) using the
SLURM scheduler over 3 nodes with each calculation using 12 cores. The requisite <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> files are the
following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model_script</span> <span class="pre">=</span> <span class="pre">'dyna_script'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input_template</span> <span class="pre">=</span> <span class="pre">'dyna_input.k'</span></code></p></li>
</ul>
<p>No <code class="docutils literal notranslate"><span class="pre">output_script</span></code> is used for postprocessing.</p>
<p>Note that in both models, LS-DYNA requires that the text-based input cards each possess 10 characters. Therefore, it is
necessary to set <code class="docutils literal notranslate"><span class="pre">fmt='{:&gt;10.4f}'</span> <span class="pre">in</span> <span class="pre">``RunModel</span></code> to write the variables to the input files correctly.</p>
<p>Note that these calculations are for demonstration purposes only and are not intended to be physically representative of
any material system. Moreover, to make them computationally inexpensive the mesh is severely under-resolved.</p>
<p><em>Matlab Model</em></p>
<p>Several simple mathematical Matlab models are provided in a Jupyter script entitled
<cite>Third-Party_Model_with_Heterogeneous_Data.ipynb</cite>. These examples illustrate how to write variables to a matlab model
(<cite>.m</cite>) file using <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a>. Several <code class="docutils literal notranslate"><span class="pre">template_input</span></code> and <code class="docutils literal notranslate"><span class="pre">model_script</span></code> files are provided.  The notebook
executes models in serial and in parallel.</p>
<p>These examples do not use HPC resources.</p>
<p><em>OpenSees Model</em></p>
<p>The model considers a six-story building with 2 bays in the X-direction and 2 bays in the y-directions. The model has
reinforced-concrete rectangular columns and beams. A static pushover analysis is performed. At each story the concrete‚Äôs
yield strength fc ~Uniform (15000, 25000), the reinforcement steel‚Äôs Young‚Äôs modulus Es ~Uniform (2.0e8, 0.5e8) and
yield strength Fy ~Uniform (450000, 530000) are considered random variables. Thus, the problem has a total of 6*3 = 18
random variables. The horizontal displacement (x-axis) of the top floor is monitored.</p>
<p>Five Monte Carlo samples are generated and the model is evaluated in parallel over five CPUs on an HPC cluster
(specifically MARCC) using the SLURM scheduler. The requisite <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> files are the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">model_script</span> <span class="pre">=</span> <span class="pre">opensees_model.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">input_template</span> <span class="pre">=</span> <span class="pre">import_variables.tcl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">output_script</span> <span class="pre">=</span> <span class="pre">process_opensees_output.py</span></code></p></li>
</ul>
<p>The other necessary files are the following:</p>
<ul class="simple">
<li><p><cite>columndimensions.tcl</cite></p></li>
<li><p><cite>RCsection.tcl</cite></p></li>
<li><p><cite>run_opensees_UQpy.py</cite></p></li>
<li><p><cite>run_OpenSees.sh</cite></p></li>
<li><p><cite>test.tcl</cite></p></li>
</ul>
<p>Note that this example is not intended to represent the accurate pushover analysis a real structure. It is for
<code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> illustration purposes only.</p>
</section>
<section id="runmodel-class">
<h2>RunModel Class<a class="headerlink" href="#runmodel-class" title="Link to this heading">ÔÉÅ</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="UQpy.run_model.RunModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">RunModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ntasks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cores_per_task</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resume</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'LOCAL'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster_script</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/UQpy/run_model/RunModel.html#RunModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#UQpy.run_model.RunModel" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Run a computational model at specified sample points.</p>
<p>This class is the interface between <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> and computational models. The model is called in a Python script whose
name must be passed as one the arguments to the <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> call. If the model is in Python, <code class="xref py py-mod docutils literal notranslate"><span class="pre">UQpy</span></code> import the
model and executes it directly. If the model is not in Python, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> must be provided the name of a template
input file, the name of the Python script that runs the model, and an (optional) output Python script.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.13)"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code></a>[<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>]</span>) ‚Äì <p>Samples to be passed as inputs to the model.
Regardless of data type, the first dimension of <code class="docutils literal notranslate"><span class="pre">samples</span></code> must be equal to the number of samples at which
to execute the model. That is, <code class="docutils literal notranslate"><span class="pre">len(samples)</span> <span class="pre">=</span> <span class="pre">nsamples</span></code>.</p>
<p>Regardless of data type, the second dimension of <code class="docutils literal notranslate"><span class="pre">samples</span></code> must be equal to the number of variables to
to pass for each model evaluation. That is, <code class="docutils literal notranslate"><span class="pre">len(samples[0])</span> <span class="pre">=</span> <span class="pre">n_vars</span></code>. Each variable need not be a scalar.
Variables may be scalar, vector, matrix, or tensor type (i.e. <cite>float</cite>, <cite>list</cite>, or <cite>ndarray</cite>).</p>
<p>If <cite>samples</cite> are not passed, a <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> object will be instantiated that can be used later, with the
<a class="reference internal" href="#UQpy.run_model.RunModel.run" title="UQpy.run_model.RunModel.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> method, to evaluate the model.</p>
<p>Used in both python and third-party model execution.</p>
</p></li>
<li><p><strong>ntasks</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) ‚Äì <p>Number of tasks to be run in parallel. By default, <code class="docutils literal notranslate"><span class="pre">ntasks</span> <span class="pre">=</span> <span class="pre">1</span></code> and the models are executed
serially.</p>
<p>Setting ntasks equal to a positive integer greater than 1 will trigger the parallel workflow.</p>
<p><cite>ntasks</cite> is used for both the Python and third-party model workflows. <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> uses <cite>GNU parallel</cite> to
execute third-party models in parallel and the multiprocessing module to execute Python models in parallel.</p>
</p></li>
<li><p><strong>cores_per_task</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) ‚Äì <p>Number of cores to be used by each task. In cases where a third-party model runs across
multiple CPUs, this optional attribute allocates the necessary resources to each model evaluation.</p>
<p><cite>cores_per_task</cite> is not used in the Python model workflow.</p>
</p></li>
<li><p><strong>nodes</strong> (<span class="sphinx_autodoc_typehints-type"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></span>) ‚Äì Number of nodes across which to distribute individual tasks on an HPC cluster in the third-party
model workflow. If more than one compute node is necessary to execute individual runs in parallel, <cite>nodes</cite> must
be specified.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="UQpy.run_model.RunModel.samples">
<span class="sig-name descname"><span class="pre">samples</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotated</span></code><span class="pre">[</span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a><span class="pre">]</span></em><a class="headerlink" href="#UQpy.run_model.RunModel.samples" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Internally, <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> converts the input <cite>samples</cite> into a numpy <cite>ndarray</cite> with at least two 
dimension where the first dimension of the <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> corresponds to a single sample to be executed 
by the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="UQpy.run_model.RunModel.qoi_list">
<span class="sig-name descname"><span class="pre">qoi_list</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></em><a class="headerlink" href="#UQpy.run_model.RunModel.qoi_list" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>A list containing the output quantities of interest</p>
<p>In the third-party model workflow, these output quantities of interest are extracted from the model output files
by <cite>output_script</cite>.</p>
<p>In the Python model workflow, the returned quantity of interest from the model evaluations is stored as
<a class="reference internal" href="#UQpy.run_model.RunModel.qoi_list" title="UQpy.run_model.RunModel.qoi_list"><code class="xref py py-attr docutils literal notranslate"><span class="pre">qoi_list</span></code></a>.</p>
<p>This attribute is commonly used for adaptive algorithms that employ learning functions based on previous model
evaluations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="UQpy.run_model.RunModel.n_existing_simulations">
<span class="sig-name descname"><span class="pre">n_existing_simulations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><a class="headerlink" href="#UQpy.run_model.RunModel.n_existing_simulations" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Number of pre-existing model evaluations, prior to a new <a class="reference internal" href="#UQpy.run_model.RunModel.run" title="UQpy.run_model.RunModel.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> method call.</p>
<p>If the <a class="reference internal" href="#UQpy.run_model.RunModel.run" title="UQpy.run_model.RunModel.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> methods has previously been called and model evaluations performed, subsequent calls to the
<a class="reference internal" href="#UQpy.run_model.RunModel.run" title="UQpy.run_model.RunModel.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> method will be appended to the <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> object. <code class="xref py py-attr docutils literal notranslate"><span class="pre">nexist</span></code> stores the number of 
previously existing model evaluations.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="UQpy.run_model.RunModel.n_new_simulations">
<span class="sig-name descname"><span class="pre">n_new_simulations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></em><a class="headerlink" href="#UQpy.run_model.RunModel.n_new_simulations" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Number of model evaluations to be performed, <code class="docutils literal notranslate"><span class="pre">nsim</span> <span class="pre">=</span> <span class="pre">len(samples)</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="UQpy.run_model.RunModel.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">append_samples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/UQpy/run_model/RunModel.html#RunModel.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#UQpy.run_model.RunModel.run" title="Link to this definition">ÔÉÅ</a></dt>
<dd><p>Execute a computational model at given sample values.</p>
<p>If <cite>samples</cite> are passed when defining the <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> object, the <a class="reference internal" href="#UQpy.run_model.RunModel.run" title="UQpy.run_model.RunModel.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> method is called automatically.</p>
<p>The <a class="reference internal" href="#UQpy.run_model.RunModel.run" title="UQpy.run_model.RunModel.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> method may also be called directly after defining the <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RunModel()</span></code></a> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><em>list</em></a>) ‚Äì <p>Samples to be passed as inputs to the model defined by the <a class="reference internal" href="#UQpy.run_model.RunModel" title="UQpy.run_model.RunModel.RunModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunModel</span></code></a> object.</p>
<p>Regardless of data type, the first dimension of <code class="docutils literal notranslate"><span class="pre">samples</span></code> must be equal to the number of samples at which
to execute the model. That is, <code class="docutils literal notranslate"><span class="pre">len(samples)</span> <span class="pre">=</span> <span class="pre">nsamples</span></code>.</p>
<p>Regardless of data type, the second dimension of <code class="docutils literal notranslate"><span class="pre">samples</span></code> must be equal to the number of variables to
to pass for each model evaluation. That is, <code class="docutils literal notranslate"><span class="pre">len(samples[0])</span> <span class="pre">=</span> <span class="pre">n_vars</span></code>. Each variable need not be a
scalar. Variables may be scalar, vector, matrix, or tensor type (i.e. <cite>float</cite>, <cite>list</cite>, or <cite>ndarray</cite>).</p>
<p>Used in both python and third-party model execution.</p>
</p></li>
<li><p><strong>append_samples</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><em>bool</em></a>) ‚Äì <p>Append over overwrite existing samples and model evaluations.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">append_samples</span> <span class="pre">=</span> <span class="pre">False</span></code>, all previous samples and the corresponding quantities of interest from their
model evaluations are deleted.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">append_samples</span> <span class="pre">=</span> <span class="pre">True</span></code>, samples and their resulting quantities of interest are appended to the
existing ones.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading">ÔÉÅ</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/RunModel/index.html">RunModel Examples</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="auto_examples/reliability/sorm/SORM_nonlinear_function.html" class="btn btn-neutral float-left" title="4. SORM - Nonlinear function - Two Random variables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="auto_examples/RunModel/index.html" class="btn btn-neutral float-right" title="RunModel Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Michael D. Shields.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>